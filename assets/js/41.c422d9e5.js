(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{207:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"node-js"}},[t._v("node.js")]),t._v(" "),n("h2",{attrs:{id:"文档"}},[t._v("文档")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://nodejs.cn/api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.JS 中文文档"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"_1-写一个小服务可以通过-url-下载文件？-大文件是否能下载-stream。"}},[t._v("1.写一个小服务可以通过 URL 下载文件？ (大文件是否能下载) stream。")]),t._v(" "),n("h3",{attrs:{id:"_2-多线程的几种实现方式与-nodejs-中的实现"}},[t._v("2.多线程的几种实现方式与 NodeJS 中的实现?")]),t._v(" "),n("h3",{attrs:{id:"_3-内存泄露问题的解释？"}},[t._v("3.内存泄露问题的解释？")]),t._v(" "),n("h3",{attrs:{id:"_4-nodejs-的模块机制理解"}},[t._v("4.NodeJS 的模块机制理解?")]),t._v(" "),n("h3",{attrs:{id:"_5-koa-co-async-等模块原理机制了解透彻？"}},[t._v("5.koa/co/async 等模块原理机制了解透彻？")]),t._v(" "),n("h3",{attrs:{id:"_6-v8-的性能和稳定性优化，能对系统整体性能进行评估，内存瓶颈如何解决？"}},[t._v("6.V8 的性能和稳定性优化，能对系统整体性能进行评估，内存瓶颈如何解决？")]),t._v(" "),n("h3",{attrs:{id:"_7-commonjs-规范、amd-规范、cmd-规范？"}},[t._v("7.CommonJS 规范、AMD 规范、CMD 规范？")]),t._v(" "),t._m(0),t._v(" "),n("p",[t._v("require：是一个函数，该函数有一个参数代表模块标识，它的返回值就是其所引用的外部模块所暴露的 API。")]),t._v(" "),n("p",[t._v("模块上下文：在 CommonJS 模块的上下文中，需要有满足如下条件的一些事物存在。")]),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("模块标识：模块标识其实就是一个字符串，用于传给 require 函数。")]),t._v(" "),n("p",[t._v("遵循 CommonJS 规范的简单样例代码：")]),t._v(" "),t._m(2),t._m(3),t._m(4),t._m(5),t._v(" "),n("h3",{attrs:{id:"_8-node-js-模块机制与包机制，由什么第三方依赖所构成？"}},[t._v("8.Node.js 模块机制与包机制，由什么第三方依赖所构成？")]),t._v(" "),t._m(6),t._v(" "),n("p",[t._v("包描述文件： 一个遵循 CommonJS 规范的包必然包含一个包描述文件。并且处于包根目录下，名为 "),n("code",[t._v("package.json")]),t._v("。包含的"),n("a",{attrs:{href:"http://wiki.commonjs.org/wiki/Packages/1.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("必要信息"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("包目录结构(一个遵循 CommonJS 规范的包目录如下)：")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),n("h3",{attrs:{id:"_9-node-js-的模块寻径算法和模块缓存机制？"}},[t._v("9.Node.js 的模块寻径算法和模块缓存机制？")]),t._v(" "),n("h3",{attrs:{id:"_10-node-js-事件循环"}},[t._v("10.Node.js 事件循环")]),t._v(" "),n("p",[t._v("Node.js 事件循环是由 libuv 这个类库进行驱动的，直接用的就是 libuv 的事件循环，在 Node.js v6.9.4 下，"),n("a",{attrs:{href:"https://github.com/nodejs/node/blob/v6.9.4/src/node.cc#L4690-L4698",target:"_blank",rel:"noopener noreferrer"}},[t._v("这几行代码"),n("OutboundLink")],1),t._v(", 点链接查看，其他版本的 "),n("code",[t._v("src/node.cc")]),t._v(" 也有对相关的代码，代码如下：")]),t._v(" "),t._m(11),t._m(12),t._v(" "),n("h2",{attrs:{id:"一些深入学习-node-js-的参考"}},[t._v("一些深入学习 node.js 的参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/JiayiLi/node.js-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("node.js 实现模块化源码学习"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("《Node.js 来一打 C++ 扩展》")])]),t._v(" "),n("h2",{attrs:{id:"资源整理"}},[t._v("资源整理")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/hax/hax.github.com/issues/47",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js 控制键盘鼠标相关包 #47"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"v8"}},[t._v("V8")]),t._v(" "),t._m(13),t._v(" "),n("h2",{attrs:{id:"binding-gyp-配置文件"}},[t._v("binding.gyp 配置文件")]),t._v(" "),n("p",[t._v("GYP 文件格式的基础，")]),t._v(" "),n("h2",{attrs:{id:"特性"}},[t._v("特性")]),t._v(" "),n("p",[t._v("底层：Chrome V8、libuv、Node.js 相关源码")]),t._v(" "),n("h3",{attrs:{id:"node-js-8-0-之后"}},[t._v("Node.js 8.0 之后")]),t._v(" "),t._m(14),t._v(" "),n("h3",{attrs:{id:"nodejs-12-新特性"}},[t._v("Nodejs 12 新特性")]),t._v(" "),n("p",[t._v("目前而言，Node.js 6.x 和 8.x 将在 2019 年末结束 LTS 的支持，尽快升级到 10.x 吧。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("CommonJS 规范")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[t._v("1.require, 上条提到")]),t._v(" "),n("li",[t._v("2.一个名为 "),n("code",[t._v("exports")]),t._v(" 的对象，该对象里挂载的内容会被暴露到模块外面去")]),t._v(" "),n("li",[t._v("3.一个名为 "),n("code",[t._v("module")]),t._v(" 的对象，里面包含了这个模块的一些自带属性。实际上在 node.js 中还有一个 exports 对象，其初始指针指向和 exports 相同，而且模块暴露出去的是 "),n("code",[t._v("module")]),t._v(" 中的 exports。")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// math.js")]),t._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sum "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    sum "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// increment.js")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'math'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("increment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// program.js")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" inc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"increment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("increment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"program"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("node.js 模块，通常一个模块是一个遵循 CommonJS 规范书写的 JavaScript 源文件，也可能是一个后缀为 "),s("code",[this._v("*.node")]),this._v(" 的 C++ 模块二进制文件，通过 require() 函数被引入并且使用。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("CommonJS 规范中的包(package) 指的是一系列模块、代码以及其他资源文件的一个封装。")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[t._v("package.json 在根目录下")]),t._v(" "),n("li",[t._v("二进制文件应在 bin 目录下")]),t._v(" "),n("li",[t._v("JavaScript 源码应当在 lib 目录下")]),t._v(" "),n("li",[t._v("文档应在 doc 目录下")]),t._v(" "),n("li",[t._v("单元测试文件应在 test 目录下")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("模快机制")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("包机制")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("依赖")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-cpp line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[t._v("NodeInstanceData "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("instance_data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NodeInstanceType"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("MAIN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uv_default_loop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                argc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const_cast")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                exec_argc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                exec_argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                use_debug_agent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("StartNodeInstance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("instance_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexit_code "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" instance_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit_code")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 Node.js 源码 "),s("code",[this._v("deps")]),this._v(" 目录下，有除了 Chrome V8 和 libuv 以外的依赖。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("内存机制、基本对象，句柄、句柄作用域、模板、常用的数据类型。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("C++ 原生扩展接口 "),s("code",[this._v("N-API")])])])}],!1,null,null,null);s.default=e.exports}}]);