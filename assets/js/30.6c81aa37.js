(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{196:function(t,s,n){"use strict";n.r(s);var e=n(0),a=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"react-native"}},[t._v("React Native")]),t._v(" "),n("h2",{attrs:{id:"react-native-开发环境搭建"}},[t._v("React Native 开发环境搭建")]),t._v(" "),t._m(0),t._v(" "),n("h3",{attrs:{id:"macos-环境"}},[t._v("MacOS 环境")]),t._v(" "),n("p",[t._v("TODO")]),t._v(" "),n("h3",{attrs:{id:"ubuntu-环境"}},[t._v("Ubuntu 环境")]),t._v(" "),n("p",[t._v("版本 18.04。")]),t._v(" "),n("ul",[n("li",[t._v("Node 环境")]),t._v(" "),n("li",[t._v("Java 环境")]),t._v(" "),n("li",[t._v("Android Studio 安装(可以在 "),n("a",{attrs:{href:"https://developers.google.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("developers.google.cn"),n("OutboundLink")],1),t._v(")")]),t._v(" "),n("li",[t._v("React Native 命令行安装创建第一个项目")])]),t._v(" "),n("p",[t._v("NPM 镜像库配置(国内淘宝镜像)")]),t._v(" "),t._m(1),t._m(2),t._v(" "),n("p",[t._v("推荐使用 "),n("a",{attrs:{href:"https://github.com/creationix/nvm/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm"),n("OutboundLink")],1),t._v(" 来管理 node 的版本。具体过程就略过了，我当前 node 版本和 nvm 管理的版本如下图：")]),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190420223446.png"}}),t._v(" "),t._m(3),t._v(" "),n("p",[t._v("因为安装 Android Studio 需要 Java 环境，先去 "),n("a",{attrs:{href:"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java 官网"),n("OutboundLink")],1),t._v("下载 JDK，选择 Linux 对应的包。")]),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190420225417.png"}}),t._v(" "),t._m(4),t._v(" "),t._m(5),n("p",[t._v("设置 java 环境变量")]),t._v(" "),t._m(6),n("p",[t._v("添加下面的内容到末尾，根据自己的路径添加：")]),t._v(" "),t._m(7),n("p",[t._v("完成后退出 vim, 执行：")]),t._v(" "),t._m(8),t._m(9),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190420225903.png"}}),t._v(" "),t._m(10),t._v(" "),n("p",[t._v("下载 "),n("a",{attrs:{href:"https://developer.android.com/studio/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android Studio"),n("OutboundLink")],1),t._v("，解压下载的包，然后 cd 到 bin 文件夹，执行 "),n("code",[t._v("./studio.sh")]),t._v(" 命令，就会启动 "),n("code",[t._v("Android Studio Welcome")]),t._v(" 界面，根据 "),n("a",{attrs:{href:"https://reactnative.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native"),n("OutboundLink")],1),t._v(" 介绍设置一些步骤，需要选择 custom，勾选 Android Virtual Device，下一步，等待安装完成，网络不好估计比较慢。")]),t._v(" "),n("p",[t._v("下载完成后，在 setting config 中下载需要的一些 SDK。可以看到我当前的 SDK 和 SDK Tools，如下图：")]),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190421001235.png"}}),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190421001414.png"}}),t._v(" "),n("p",[t._v("然后 Apply ，继续安装就行了。")]),t._v(" "),t._m(11),t._v(" "),n("p",[t._v("在命令行中使用 React Native 命令行创建第一个项目:")]),t._v(" "),t._m(12),n("p",[t._v("准备 Android 设备，可以真机，可以模拟器，这里直接使用 Android Studio 上的模拟器，打开 Android Studio 后，可以直接打开一个 Android 项目，在刚刚创建的 AwesomeProject 目录下。")]),t._v(" "),n("p",[t._v("这个时候需要创建一个模拟器(AVD Manager),图标是这个样子：")]),t._v(" "),n("img",{attrs:{src:"https://reactnative.cn/docs/assets/GettingStartedAndroidStudioAVD.png"}}),t._v(" "),n("p",[t._v("创建一个安卓虚拟设备，根据支持的创建一个，然后点击三角形的按钮启动。")]),t._v(" "),t._m(13),t._v(" "),n("p",[t._v("必须确保模拟器或者链接了真机，不然运行的时候会失败。")]),t._v(" "),t._m(14),n("p",[t._v("如下")]),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190421002555.png"}}),t._v(" "),n("p",[t._v("初始化项目就运行起来了。")]),t._v(" "),n("img",{attrs:{src:"https://raw.githubusercontent.com/AlvinMi/2019-Pic/master/2019/20190421003125.png"}}),t._v(" "),t._m(15),t._v(" "),n("p",[t._v("Watchman 是由 Facebook 提供监视文件系统变更的工具。安装后后可以提高开发时的性能(packager 可以快速捕捉文件的变化从而实现实时刷新)。听起来很不错的样子...")]),t._v(" "),n("p",[t._v("执行下面的命令安装 "),n("a",{attrs:{href:"https://facebook.github.io/watchman/docs/install.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Watchman(参考该链接)"),n("OutboundLink")],1),t._v(":")]),t._v(" "),t._m(16),t._m(17),t._v(" "),n("p",[t._v("Genymotion 需要提前安装好 "),n("a",{attrs:{href:"https://www.virtualbox.org/wiki/Linux_Downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("virtualbox"),n("OutboundLink")],1),t._v("， 我之前安装了就不介绍了，你可以通过命令行来安装或者使用其他安装的方式。")]),t._v(" "),t._m(18),n("p",[t._v("在 "),n("a",{attrs:{href:"https://www.genymotion.com/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Genymotion 官网"),n("OutboundLink")],1),t._v("下载 Genymotion，需要注册一个账号：")]),t._v(" "),t._m(19),n("h3",{attrs:{id:"windows-环境"}},[t._v("Windows 环境")]),t._v(" "),n("p",[t._v("TODO")]),t._v(" "),n("p",[t._v("参考文档：")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://facebook.github.io/react-native/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),n("OutboundLink")],1),t._v(" & "),n("a",{attrs:{href:"https://reactnative.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native 中文文档"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("开始 React Native 之旅吧。")]),t._v(" "),n("h2",{attrs:{id:"调试相关"}},[t._v("调试相关")]),t._v(" "),n("h2",{attrs:{id:"一些参考文章"}},[t._v("一些参考文章")]),t._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/27095858",target:"_blank",rel:"noopener noreferrer"}},[t._v("搜车 React Native 依赖管理方案"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"http://www.alloyteam.com/2016/05/react-mobile-web-optimization/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 移动 web 极致优化"),n("OutboundLink")],1)])]),t._v(" "),t._m(20)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("可以参考React Native 中文网：https://reactnative.cn/docs/getting-started.html")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" registry https://registry.npm.taobao.org --global\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" disturl https://npm.taobao.org/dist --global\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" react-native-cli\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" registry https://registry.npm.taobao.org --global\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" disturl https://npm.taobao.org/dist --global\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Node 本地环境")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Java 环境设置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("code",[this._v("/usr/local")]),this._v(" 目录下新建一个 "),s("code",[this._v("java")]),this._v(" 目录，将下载的 JDK 复制到新建的 java 文件夹下：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /usr/local/java\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" jdk-8u201-linux-x64.tar.gz /usr/local/java\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 然后解压")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xvf jdk-8u201-linux-x64.tar.gz\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" /etc/profile\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加 Android Sdk")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" ANDROID_HOME"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${HOME}")]),t._v("/Android/Sdk\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Java ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" JAVA_HOME"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/usr/local/java/jdk1.8.0_201'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Jre")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" JRE_HOME"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/jre\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" CLASSPATH"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(".:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/lib:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JRE_HOME}")]),t._v("/lib\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PATH"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/bin:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("source")]),this._v(" /etc/profile\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("添加完成了之后，使用 "),s("code",[this._v("java -version")]),this._v(" 查询一下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Android Studio 安装")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("创建一个 React Native 项目")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ react-native init AwesomeProject\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("编译运行 React Native 应用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" AwesomeProject\n$ react-native run-android\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("watchman")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/facebook/watchman.git\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" watchman\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这是我安装时候的稳定版本")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout v4.9.0  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the latest stable release")]),t._v("\n$ ./autogen.sh\n$ ./configure\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("安装 Genymotion")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -q https://www.virtualbox.org/download/oracle_vbox.asc -O-"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" virtualbox\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" 下载  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 你下载的目录")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x genymotion-3.0.2-linux_x64.bin\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ./genymotion-3.0.2-linux_x64.bin -d ~\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入 genymotion 目录")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/genymotion/\n$ ./genymotion\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("RN 的性能优化、动画开发体验提升、智能打包以及打包工具瓶颈")])])}],!1,null,null,null);s.default=a.exports}}]);